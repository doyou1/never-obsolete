# TASK-203: 분석 결과 생성기 테스트 케이스

## 1. AnalysisResultGenerator 클래스 테스트

### 1.1 기본 생성 및 초기화

#### TC-203-001: 인스턴스 생성
- **입력**: 기본 설정
- **예상 결과**: AnalysisResultGenerator 인스턴스 생성
- **검증**: `instanceof AnalysisResultGenerator`

#### TC-203-002: 설정 적용
- **입력**: 커스텀 설정 옵션
- **예상 결과**: 설정이 올바르게 적용됨
- **검증**: 설정값 확인

### 1.2 분석 결과 생성

#### TC-203-003: 기본 분석 결과 생성
- **입력**: 간단한 AST 데이터와 플로우 그래프
- **예상 결과**: 완전한 분석 결과 객체 생성
- **검증**: 모든 필수 필드 존재

#### TC-203-004: 복잡한 분석 결과 생성
- **입력**: 다층 구조의 복잡한 플로우 그래프
- **예상 결과**: 계층 구조가 정확히 표현된 결과
- **검증**: 트리 구조 정확성

## 2. TreeFormatter 클래스 테스트

### 2.1 트리 구조 포맷팅

#### TC-203-005: 단순 트리 포맷팅
- **입력**: 2단계 플로우 (API → Service)
- **예상 결과**: 올바른 들여쓰기 구조
- **검증**:
  ```
  📁 API Layer
    ├── 🔗 GET /users
    └── 📄 userController.ts
  📁 Service Layer
    └── 📄 userService.ts
  ```

#### TC-203-006: 다층 트리 포맷팅
- **입력**: 5단계 플로우 (Client → API → Controller → Service → DB)
- **예상 결과**: 계층별 구분이 명확한 트리
- **검증**: 각 레벨의 들여쓰기 정확성

#### TC-203-007: 병렬 플로우 포맷팅
- **입력**: 동일 레벨에 여러 노드
- **예상 결과**: 병렬 노드들이 동일 레벨로 표시
- **검증**: 형제 노드 구조

### 2.2 노드 타입별 아이콘

#### TC-203-008: 파일 타입별 아이콘 적용
- **입력**: 다양한 파일 타입 노드
- **예상 결과**: 각 타입에 맞는 아이콘 적용
- **검증**:
  - 📄 TypeScript 파일
  - 🔗 API 엔드포인트
  - 🗃️ 데이터베이스
  - 📁 디렉토리

## 3. MarkdownGenerator 클래스 테스트

### 3.1 마크다운 생성

#### TC-203-009: 기본 마크다운 구조
- **입력**: 표준 분석 결과
- **예상 결과**: 완전한 마크다운 문서
- **검증**: 헤더, 본문, 통계 섹션 존재

#### TC-203-010: 파일 링크 생성
- **입력**: GitHub 파일 경로 정보
- **예상 결과**: 클릭 가능한 GitHub 링크
- **검증**: `[filename](github-url)` 형식

#### TC-203-011: 메타데이터 포함
- **입력**: 함수 위치, 타입 정보
- **예상 결과**: 메타데이터가 표로 정리
- **검증**: 마크다운 테이블 형식

### 3.2 특수 문자 처리

#### TC-203-012: 특수 문자 이스케이핑
- **입력**: 특수 문자가 포함된 파일명
- **예상 결과**: 마크다운에서 안전하게 표시
- **검증**: 백슬래시 이스케이핑 적용

#### TC-203-013: 긴 파일명 처리
- **입력**: 200자 이상의 긴 파일명
- **예상 결과**: 적절히 줄바꿈 또는 생략
- **검증**: 가독성 유지

## 4. MermaidGenerator 클래스 테스트

### 4.1 Mermaid 다이어그램 생성

#### TC-203-014: 기본 플로우차트 생성
- **입력**: 간단한 플로우 그래프
- **예상 결과**: 유효한 Mermaid 문법
- **검증**: Mermaid 파서 통과

#### TC-203-015: 복잡한 그래프 생성
- **입력**: 순환 의존성이 있는 그래프
- **예상 결과**: 순환 관계가 표시된 다이어그램
- **검증**: 순환 화살표 포함

#### TC-203-016: 노드 수 제한
- **입력**: 150개 노드를 가진 그래프
- **예상 결과**: 100개 노드로 제한된 다이어그램
- **검증**: 노드 수 <= 100

### 4.2 노드 및 엣지 스타일링

#### TC-203-017: 노드 타입별 스타일
- **입력**: 다양한 타입의 노드
- **예상 결과**: 타입별 다른 스타일 적용
- **검증**: CSS 클래스 또는 스타일 속성

## 5. IssueDetector 클래스 테스트

### 5.1 순환 의존성 감지

#### TC-203-018: 순환 의존성 보고
- **입력**: 순환 의존성이 있는 플로우
- **예상 결과**: 순환 경로가 명시된 이슈 보고
- **검증**: 순환 노드 목록 포함

#### TC-203-019: 복잡한 순환 감지
- **입력**: 여러 순환이 있는 복잡한 그래프
- **예상 결과**: 모든 순환 경로 감지
- **검증**: 순환 그룹별 분류

### 5.2 구조적 이슈 감지

#### TC-203-020: 고립된 노드 감지
- **입력**: 연결되지 않은 독립 노드
- **예상 결과**: 고립 노드 목록 보고
- **검증**: 고립 노드 ID 목록

#### TC-203-021: 깊이 제한 초과 감지
- **입력**: 제한을 초과한 깊은 호출 체인
- **예상 결과**: 초과 경로 보고
- **검증**: 초과 깊이 및 경로 정보

## 6. 통합 테스트

### 6.1 전체 파이프라인

#### TC-203-022: 실제 프로젝트 분석
- **입력**: clientv 디렉토리 분석 결과
- **예상 결과**: 완전한 보고서 생성
- **검증**:
  - 마크다운 파일 생성
  - Mermaid 다이어그램 생성
  - 이슈 목록 포함

#### TC-203-023: 대용량 프로젝트 처리
- **입력**: 100개 파일, 500개 함수
- **예상 결과**: 성능 요구사항 내 처리 완료
- **검증**:
  - 처리 시간 < 1초
  - 메모리 사용량 < 50MB

### 6.2 에러 시나리오

#### TC-203-024: 빈 입력 처리
- **입력**: 빈 AST 데이터
- **예상 결과**: 빈 보고서 생성 (에러 없음)
- **검증**: 기본 구조 유지

#### TC-203-025: 손상된 데이터 처리
- **입력**: 불완전한 플로우 그래프
- **예상 결과**: 가능한 범위 내 보고서 생성
- **검증**: 경고 메시지 포함

## 7. 출력 검증 테스트

### 7.1 파일명 생성

#### TC-203-026: 타임스탬프 파일명
- **입력**: 분석 시점 정보
- **예상 결과**: 고유한 타임스탬프 포함 파일명
- **검증**: `analysis-report-YYYYMMDD-HHMMSS.md` 형식

#### TC-203-027: 파일명 충돌 방지
- **입력**: 동일 시점 여러 분석
- **예상 결과**: 고유한 파일명 생성
- **검증**: 모든 파일명이 다름

### 7.2 포맷 검증

#### TC-203-028: 마크다운 문법 검증
- **입력**: 생성된 마크다운 콘텐츠
- **예상 결과**: 유효한 마크다운 문법
- **검증**: 마크다운 파서 통과

#### TC-203-029: 링크 유효성 검증
- **입력**: GitHub 파일 링크
- **예상 결과**: 유효한 URL 형식
- **검증**: URL 형식 검사

## 8. 성능 테스트

### 8.1 처리 속도

#### TC-203-030: 소규모 프로젝트 성능
- **입력**: 10개 파일 분석 결과
- **예상 결과**: 100ms 이내 완료
- **검증**: 실행 시간 측정

#### TC-203-031: 대규모 프로젝트 성능
- **입력**: 100개 파일 분석 결과
- **예상 결과**: 1초 이내 완료
- **검증**: 실행 시간 측정

### 8.2 메모리 사용량

#### TC-203-032: 메모리 효율성
- **입력**: 대용량 분석 결과
- **예상 결과**: 50MB 이하 사용
- **검증**: process.memoryUsage() 모니터링

## 9. 사용자 경험 테스트

### 9.1 가독성

#### TC-203-033: 트리 구조 가독성
- **입력**: 복잡한 플로우 그래프
- **예상 결과**: 직관적인 계층 구조
- **검증**: 들여쓰기 일관성

#### TC-203-034: 색상 코딩 효과
- **입력**: 다양한 파일 타입
- **예상 결과**: 타입별 구분 용이
- **검증**: 아이콘 및 스타일 적용

### 9.2 네비게이션

#### TC-203-035: 파일 링크 동작
- **입력**: 생성된 GitHub 링크
- **예상 결과**: 올바른 파일로 이동
- **검증**: 링크 클릭 테스트

#### TC-203-036: 섹션 내비게이션
- **입력**: 긴 보고서
- **예상 결과**: 목차를 통한 쉬운 이동
- **검증**: 앵커 링크 동작