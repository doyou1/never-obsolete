# direct-verify

## 목적

DIRECT 작업에서 실행한 설정 작업의 동작 확인과 테스트를 수행합니다. 설정이 올바르게 적용되었고 시스템이 예상대로 동작하는지 확인합니다.

## 전제 조건

- `direct-setup.md`가 실행 완료되어 있어야 함
- 작업 ID가 제공되어야 함
- 설정 작업 기록이 존재해야 함

## 실행 내용

1. **설정 확인**
   - 환경 변수 확인
   - 설정 파일 내용 확인
   - 의존성 설치 상태 확인
   - 서비스 실행 상태 확인

2. **동작 테스트 실행**
   - 기본 동작 확인
   - 연결 테스트
   - 권한 확인
   - 오류 케이스 확인

3. **품질 검사**
   - 보안 설정 확인
   - 성능 기준 확인
   - 로그 확인

## 출력 위치

확인 기록은 `docs/implements/{TASK-ID}/` 디렉토리에 다음 파일로 생성됩니다:
- `verify-report.md`: 설정 확인 및 동작 테스트 기록

## 출력 형식 예시

````markdown
# {TASK-ID} 설정 확인 및 동작 테스트

## 확인 개요

- **작업 ID**: {TASK-ID}
- **확인 내용**: {설정 확인 개요}
- **실행 일시**: {실행 일시}
- **실행자**: {실행자}

## 설정 확인 결과

### 1. 환경 변수 확인

```bash
# 실행한 명령어
echo $NODE_ENV
echo $DATABASE_URL
```
````

**확인 결과**:

- [x] NODE_ENV: development (기대값: development)
- [x] DATABASE_URL: postgresql://localhost:5432/mydb (기대값: 올바른 DB URL)

### 2. 설정 파일 확인

**확인 파일**: `config/database.json`

```bash
# 실행한 명령어
cat config/database.json | jq .
```

**확인 결과**:

- [x] 파일이 존재함
- [x] JSON 형식이 올바름
- [x] 필요한 설정 항목이 포함되어 있음

### 3. 의존성 확인

```bash
# 실행한 명령어
npm list express pg
```

**확인 결과**:

- [x] express: 설치됨
- [x] pg: 설치됨

### 4. 데이터베이스 연결 테스트

```bash
# 실행한 명령어
psql -d mydb -c "SELECT 1;"
```

**확인 결과**:

- [x] 데이터베이스 연결 성공
- [x] 쿼리 실행 성공

## 동작 테스트 결과

### 1. 기본 동작 테스트

```bash
# 실행한 테스트 명령어
node -e "console.log('Hello, World!');"
```

**테스트 결과**:

- [x] Node.js 실행 환경: 정상
- [x] 기본 JavaScript 실행: 정상

### 2. 데이터베이스 연결 테스트

```javascript
// 테스트 스크립트
const { Pool } = require('pg');
const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
});

pool.query('SELECT NOW()', (err, res) => {
  if (err) {
    console.error('Error:', err);
  } else {
    console.log('Connected:', res.rows[0]);
  }
  pool.end();
});
```

**테스트 결과**:

- [x] 데이터베이스 연결: 정상
- [x] 쿼리 실행: 정상
- [x] 연결 종료: 정상

### 3. 보안 설정 테스트

```bash
# 실행한 명령어
ls -la config/
ps aux | grep node
```

**테스트 결과**:

- [x] 설정 파일 권한: 적절함
- [x] 프로세스 실행 권한: 적절함
- [x] 기밀 정보 보호: 적절함

## 품질 검사 결과

### 성능 확인

- [x] 시작 시간: 2초 이내
- [x] 메모리 사용량: 256MB 이내
- [x] CPU 사용률: 10% 이내

### 로그 확인

- [x] 오류 로그: 이상 없음
- [x] 경고 로그: 문제 없음
- [x] 정보 로그: 적절히 출력됨

## 전체적인 확인 결과

- [x] 설정 작업이 올바르게 완료됨
- [x] 모든 동작 테스트가 성공함
- [x] 품질 기준을 충족함
- [x] 다음 작업을 진행할 준비가 됨

## 발견된 문제

### 문제1: {문제가 있으면 기재}

- **문제 내용**: {문제 상세}
- **중요도**: {상/중/하}
- **대처 방법**: {해결 방법}
- **상태**: {해결 완료/대기 중/미대응}

## 권장 사항

- {개선 제안 사항이 있으면 기재}
- {최적화 제안이 있으면 기재}

## 다음 단계

- 작업 완료 보고
- 관련 작업 시작 준비
- 필요 시 설정 미세 조정

````

## 실행 후 확인
- `docs/implements/{TASK-ID}/verify-report.md` 파일이 생성되었는지 확인
- 모든 확인 항목이 완료되었는지 확인
- 문제가 발견된 경우 적절히 대처되었는지 확인
- 작업의 완료 조건을 만족하는지 확인
- 다음 작업을 진행할 준비가 되어 있는지 확인

## 디렉토리 확인

`docs/implements/{TASK-ID}/` 디렉토리가 존재하는지 확인하세요 (direct-setup에서 생성되어야 함)

## 작업 완료 마킹
품질 검사가 충분하고 모든 확인 항목이 통과된 경우, tasks 디렉토리의 해당 작업 파일에 완료 마크를 붙이세요.

### 완료 조건
다음 조건을 모두 만족하는 경우에 작업을 완료로 마킹합니다:
- [ ] 모든 설정 확인 항목이 통과됨
- [ ] 모든 동작 테스트가 성공함
- [ ] 품질 검사 항목이 기준을 만족함
- [ ] 발견된 문제가 적절히 대처됨
- [ ] 보안 설정이 적절함
- [ ] 성능 기준을 만족함

### 완료 마크 붙이는 방법
1. 사용자가 지정한 작업 파일을 확인
2. 파일 내의 해당 섹션 또는 작업 항목에 `✅ 완료` 또는 `[COMPLETED]` 마크를 추가
3. 완료 일시와 확인자를 기록

## README.md 업데이트
작업이 완료된 경우, 프로젝트의 루트 디렉토리의 `README.md`를 생성하거나 업데이트하세요.

### 업데이트 내용
1. **현재 README.md 확인**: 기존 README.md가 있는 경우 내용을 확인
2. **완료된 작업의 정보 추가**:
   - 구현한 기능의 개요
   - 설정 절차
   - 동작 확인 방법
   - 사용 방법
3. **프로젝트 전체의 정보 업데이트**:
   - 설정 절차
   - 의존 관계
   - 환경 요구사항
   - 개발·운영 절차

### README.md 업데이트 형식 예시

```markdown
# 프로젝트명

## 개요
{프로젝트의 개요}

## 완료된 기능
### {TASK-ID}: {작업명}
- **구현일**: {구현일}
- **개요**: {기능의 개요}
- **설정 내용**: {설정한 내용}
- **동작 확인**: {동작 확인의 결과}

## 설정 절차
### 전제 조건
- {필요한 환경·도구}

### 설치
```bash
# 의존 관계 설치
{설치 명령어}

# 환경 변수 설정
{환경 변수 설정}
```

### 시작 방법

```bash
# 개발 서버 시작
{시작 명령어}
```

## 설정

### 환경 변수

- `{환경 변수명}`: {설명}

### 설정 파일

- `{설정 파일 경로}`: {설명}

## 사용 방법

{사용 방법의 설명}

## 개발

### 개발 환경 준비

{개발 환경의 준비 절차}

### 테스트

{테스트의 실행 방법}

## 트러블슈팅

### 자주 있는 문제

- **문제**: {문제의 내용}
- **해결 방법**: {해결 방법}

## 업데이트 이력

- {날짜}: {TASK-ID} {변경 내용}

```

### 실행 절차
1. 현재 README.md를 확인 (존재하지 않는 경우 새로 생성)
2. 완료된 작업의 정보를 추가
3. 필요에 따라 다른 섹션도 업데이트
4. 변경 내용을 커밋
```
